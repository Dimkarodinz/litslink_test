  [1m[35m (856.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "payment_race_test_test"[0m
  [1m[35m (542.3ms)[0m  [1m[35mCREATE DATABASE "payment_race_test_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items" CASCADE[0m
  [1m[35m (70.0ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "posts" CASCADE[0m
  [1m[35m (87.8ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "line_items_id" bigint, "services_id" bigint, "uuid" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (64.4ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_line_items_id" ON "posts"  ("line_items_id")[0m
  [1m[35m (53.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_posts_on_services_id_and_line_items_id" ON "posts"  ("services_id", "line_items_id")[0m
  [1m[35m (53.4ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_services_id" ON "posts"  ("services_id")[0m
  [1m[35m (10.9ms)[0m  [1m[35mCOMMENT ON COLUMN "posts"."uuid" IS 'Example column for test'[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE[0m
  [1m[35m (54.6ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (9.9ms)[0m  [1m[35mALTER TABLE "posts" ADD CONSTRAINT "fk_rails_efd3ea3aee"
FOREIGN KEY ("line_items_id")
  REFERENCES "line_items" ("id")
[0m
  [1m[35m (10.6ms)[0m  [1m[35mALTER TABLE "posts" ADD CONSTRAINT "fk_rails_3c74594cd5"
FOREIGN KEY ("services_id")
  REFERENCES "services" ("id")
[0m
  [1m[35m (98.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20171123195145)[0m
  [1m[35m (10.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171123165029),
(20171123165036);

[0m
  [1m[35m (128.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-11-23 21:34:33.738814"], ["updated_at", "2017-11-23 21:34:33.738814"]]
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:17:34.472877"], ["updated_at", "2017-11-23 22:17:34.472877"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:18:21.787520"], ["updated_at", "2017-11-23 22:18:21.787520"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:18:38.624614"], ["updated_at", "2017-11-23 22:18:38.624614"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:21:23.785993"], ["updated_at", "2017-11-23 22:21:23.785993"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:23:57.075413"], ["updated_at", "2017-11-23 22:23:57.075413"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:24:43.284150"], ["updated_at", "2017-11-23 22:24:43.284150"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:27:26.310651"], ["updated_at", "2017-11-23 22:27:26.310651"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:27:51.734277"], ["updated_at", "2017-11-23 22:27:51.734277"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:29:54.646065"], ["updated_at", "2017-11-23 22:29:54.646065"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:30:18.916345"], ["updated_at", "2017-11-23 22:30:18.916345"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:31:07.589020"], ["updated_at", "2017-11-23 22:31:07.589020"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-23 22:31:07.603714"], ["updated_at", "2017-11-23 22:31:07.603714"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:31:53.458239"], ["updated_at", "2017-11-23 22:31:53.458239"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 2], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 2], ["line_item_id", 1], ["created_at", "2017-11-23 22:31:53.472846"], ["updated_at", "2017-11-23 22:31:53.472846"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 2], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:32:06.896278"], ["updated_at", "2017-11-23 22:32:06.896278"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 3], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 3], ["line_item_id", 1], ["created_at", "2017-11-23 22:32:06.910405"], ["updated_at", "2017-11-23 22:32:06.910405"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 3], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:32:23.930012"], ["updated_at", "2017-11-23 22:32:23.930012"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 4], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 4], ["line_item_id", 1], ["created_at", "2017-11-23 22:32:23.945118"], ["updated_at", "2017-11-23 22:32:23.945118"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 4], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:34:38.656464"], ["updated_at", "2017-11-23 22:34:38.656464"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 5], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 5], ["line_item_id", 1], ["created_at", "2017-11-23 22:34:38.671072"], ["updated_at", "2017-11-23 22:34:38.671072"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 5], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:34:38.687528"], ["updated_at", "2017-11-23 22:34:38.687528"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 6], ["line_item_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:34:38.702602"], ["updated_at", "2017-11-23 22:34:38.702602"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 7], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:34:48.074532"], ["updated_at", "2017-11-23 22:34:48.074532"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 8], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 8], ["line_item_id", 1], ["created_at", "2017-11-23 22:34:48.093134"], ["updated_at", "2017-11-23 22:34:48.093134"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 8], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:34:48.109738"], ["updated_at", "2017-11-23 22:34:48.109738"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 9], ["line_item_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:34:48.124446"], ["updated_at", "2017-11-23 22:34:48.124446"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 10], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:34:56.353657"], ["updated_at", "2017-11-23 22:34:56.353657"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 11], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 11], ["line_item_id", 1], ["created_at", "2017-11-23 22:34:56.368395"], ["updated_at", "2017-11-23 22:34:56.368395"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 11], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:34:56.383992"], ["updated_at", "2017-11-23 22:34:56.383992"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 12], ["line_item_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:34:56.397794"], ["updated_at", "2017-11-23 22:34:56.397794"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 13], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:39:33.504797"], ["updated_at", "2017-11-23 22:39:33.504797"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 14], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 14], ["line_item_id", 1], ["created_at", "2017-11-23 22:39:33.520039"], ["updated_at", "2017-11-23 22:39:33.520039"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 14], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:39:33.535932"], ["updated_at", "2017-11-23 22:39:33.535932"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 15], ["line_item_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:39:33.550819"], ["updated_at", "2017-11-23 22:39:33.550819"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 16], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:43:19.524475"], ["updated_at", "2017-11-23 22:43:19.524475"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 17], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 17], ["line_item_id", 1], ["created_at", "2017-11-23 22:43:19.545725"], ["updated_at", "2017-11-23 22:43:19.545725"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 17], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:43:19.563189"], ["updated_at", "2017-11-23 22:43:19.563189"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 18], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:43:43.984616"], ["updated_at", "2017-11-23 22:43:43.984616"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 19], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 19], ["line_item_id", 1], ["created_at", "2017-11-23 22:43:44.006618"], ["updated_at", "2017-11-23 22:43:44.006618"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 19], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:43:44.024221"], ["updated_at", "2017-11-23 22:43:44.024221"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 20], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 20], ["line_item_id", 1], ["created_at", "2017-11-23 22:43:44.027806"], ["updated_at", "2017-11-23 22:43:44.027806"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:43:44.030257"], ["updated_at", "2017-11-23 22:43:44.030257"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 21], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:45:59.474751"], ["updated_at", "2017-11-23 22:45:59.474751"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 22], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 22], ["line_item_id", 1], ["created_at", "2017-11-23 22:45:59.492986"], ["updated_at", "2017-11-23 22:45:59.492986"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:45:59.501137"], ["updated_at", "2017-11-23 22:45:59.501137"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 23], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 23], ["line_item_id", 1], ["created_at", "2017-11-23 22:45:59.504615"], ["updated_at", "2017-11-23 22:45:59.504615"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 23], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:45:59.520303"], ["updated_at", "2017-11-23 22:45:59.520303"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 24], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 24], ["line_item_id", 1], ["created_at", "2017-11-23 22:45:59.524230"], ["updated_at", "2017-11-23 22:45:59.524230"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:45:59.527871"], ["updated_at", "2017-11-23 22:45:59.527871"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 25], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:46:07.282947"], ["updated_at", "2017-11-23 22:46:07.282947"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 26], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 26], ["line_item_id", 1], ["created_at", "2017-11-23 22:46:07.296342"], ["updated_at", "2017-11-23 22:46:07.296342"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 26], ["line_item_id", 1], ["created_at", "2017-11-23 22:46:07.298358"], ["updated_at", "2017-11-23 22:46:07.298358"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:46:07.304236"], ["updated_at", "2017-11-23 22:46:07.304236"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 27], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 27], ["line_item_id", 1], ["created_at", "2017-11-23 22:46:07.307541"], ["updated_at", "2017-11-23 22:46:07.307541"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 27], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:46:07.322321"], ["updated_at", "2017-11-23 22:46:07.322321"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 28], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 28], ["line_item_id", 1], ["created_at", "2017-11-23 22:46:07.325577"], ["updated_at", "2017-11-23 22:46:07.325577"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:46:07.327496"], ["updated_at", "2017-11-23 22:46:07.327496"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 29], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:54:30.875049"], ["updated_at", "2017-11-23 22:54:30.875049"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 30], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 30], ["line_item_id", 1], ["created_at", "2017-11-23 22:54:30.883123"], ["updated_at", "2017-11-23 22:54:30.883123"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 30], ["line_item_id", 1], ["created_at", "2017-11-23 22:54:30.885748"], ["updated_at", "2017-11-23 22:54:30.885748"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:54:30.892314"], ["updated_at", "2017-11-23 22:54:30.892314"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 31], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 31], ["line_item_id", 1], ["created_at", "2017-11-23 22:54:30.895557"], ["updated_at", "2017-11-23 22:54:30.895557"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:54:30.897799"], ["updated_at", "2017-11-23 22:54:30.897799"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 32], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:54:30.957048"], ["updated_at", "2017-11-23 22:54:30.957048"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 33], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 33], ["line_item_id", 1], ["created_at", "2017-11-23 22:54:30.960361"], ["updated_at", "2017-11-23 22:54:30.960361"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 33], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:54:30.973619"], ["updated_at", "2017-11-23 22:54:30.973619"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 34], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 34], ["line_item_id", 1], ["created_at", "2017-11-23 22:54:30.976798"], ["updated_at", "2017-11-23 22:54:30.976798"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:54:30.978999"], ["updated_at", "2017-11-23 22:54:30.978999"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 35], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:54:51.893753"], ["updated_at", "2017-11-23 22:54:51.893753"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 36], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 36], ["line_item_id", 1], ["created_at", "2017-11-23 22:54:51.902143"], ["updated_at", "2017-11-23 22:54:51.902143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 36], ["line_item_id", 1], ["created_at", "2017-11-23 22:54:51.904536"], ["updated_at", "2017-11-23 22:54:51.904536"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:54:51.911367"], ["updated_at", "2017-11-23 22:54:51.911367"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 37], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 37], ["line_item_id", 1], ["created_at", "2017-11-23 22:54:51.914931"], ["updated_at", "2017-11-23 22:54:51.914931"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:54:51.917050"], ["updated_at", "2017-11-23 22:54:51.917050"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 38], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:54:51.938418"], ["updated_at", "2017-11-23 22:54:51.938418"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 39], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 39], ["line_item_id", 1], ["created_at", "2017-11-23 22:54:51.941965"], ["updated_at", "2017-11-23 22:54:51.941965"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 39], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:54:51.955366"], ["updated_at", "2017-11-23 22:54:51.955366"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 40], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 40], ["line_item_id", 1], ["created_at", "2017-11-23 22:54:51.958503"], ["updated_at", "2017-11-23 22:54:51.958503"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:54:51.960277"], ["updated_at", "2017-11-23 22:54:51.960277"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 41], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:55:35.330461"], ["updated_at", "2017-11-23 22:55:35.330461"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 42], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 42], ["line_item_id", 1], ["created_at", "2017-11-23 22:55:35.338572"], ["updated_at", "2017-11-23 22:55:35.338572"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 42], ["line_item_id", 1], ["created_at", "2017-11-23 22:55:35.342325"], ["updated_at", "2017-11-23 22:55:35.342325"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:55:35.348241"], ["updated_at", "2017-11-23 22:55:35.348241"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 43], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 43], ["line_item_id", 1], ["created_at", "2017-11-23 22:55:35.351475"], ["updated_at", "2017-11-23 22:55:35.351475"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:55:35.353824"], ["updated_at", "2017-11-23 22:55:35.353824"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 44], ["line_item_id", 1], ["created_at", "2017-11-23 22:55:35.355655"], ["updated_at", "2017-11-23 22:55:35.355655"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:55:35.368533"], ["updated_at", "2017-11-23 22:55:35.368533"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 45], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 45], ["line_item_id", 1], ["created_at", "2017-11-23 22:55:35.372380"], ["updated_at", "2017-11-23 22:55:35.372380"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 45], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:55:35.390412"], ["updated_at", "2017-11-23 22:55:35.390412"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 46], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 46], ["line_item_id", 1], ["created_at", "2017-11-23 22:55:35.393841"], ["updated_at", "2017-11-23 22:55:35.393841"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:55:35.396048"], ["updated_at", "2017-11-23 22:55:35.396048"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 47], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:56:09.286284"], ["updated_at", "2017-11-23 22:56:09.286284"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-23 22:56:09.294400"], ["updated_at", "2017-11-23 22:56:09.294400"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-23 22:56:09.298175"], ["updated_at", "2017-11-23 22:56:09.298175"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:56:09.303511"], ["updated_at", "2017-11-23 22:56:09.303511"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 2], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 2], ["line_item_id", 1], ["created_at", "2017-11-23 22:56:09.307382"], ["updated_at", "2017-11-23 22:56:09.307382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:56:09.309384"], ["updated_at", "2017-11-23 22:56:09.309384"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 3], ["line_item_id", 1], ["created_at", "2017-11-23 22:56:09.311329"], ["updated_at", "2017-11-23 22:56:09.311329"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:56:09.324731"], ["updated_at", "2017-11-23 22:56:09.324731"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 4], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 4], ["line_item_id", 1], ["created_at", "2017-11-23 22:56:09.329196"], ["updated_at", "2017-11-23 22:56:09.329196"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 4], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:56:09.347656"], ["updated_at", "2017-11-23 22:56:09.347656"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 5], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 5], ["line_item_id", 1], ["created_at", "2017-11-23 22:56:09.350857"], ["updated_at", "2017-11-23 22:56:09.350857"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:56:09.352888"], ["updated_at", "2017-11-23 22:56:09.352888"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 6], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:58:25.455365"], ["updated_at", "2017-11-23 22:58:25.455365"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-23 22:58:25.463595"], ["updated_at", "2017-11-23 22:58:25.463595"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-23 22:58:25.467425"], ["updated_at", "2017-11-23 22:58:25.467425"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:58:25.473320"], ["updated_at", "2017-11-23 22:58:25.473320"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 2], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 2], ["line_item_id", 1], ["created_at", "2017-11-23 22:58:25.476503"], ["updated_at", "2017-11-23 22:58:25.476503"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:58:25.478790"], ["updated_at", "2017-11-23 22:58:25.478790"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 3], ["line_item_id", 1], ["created_at", "2017-11-23 22:58:25.480910"], ["updated_at", "2017-11-23 22:58:25.480910"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:58:25.486660"], ["updated_at", "2017-11-23 22:58:25.486660"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 4], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 4], ["line_item_id", 1], ["created_at", "2017-11-23 22:58:25.489924"], ["updated_at", "2017-11-23 22:58:25.489924"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 4], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:58:25.509729"], ["updated_at", "2017-11-23 22:58:25.509729"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 5], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 5], ["line_item_id", 1], ["created_at", "2017-11-23 22:58:25.512967"], ["updated_at", "2017-11-23 22:58:25.512967"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 22:58:25.515397"], ["updated_at", "2017-11-23 22:58:25.515397"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 6], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:07.079974"], ["updated_at", "2017-11-23 23:01:07.079974"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 7], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 7], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:07.088461"], ["updated_at", "2017-11-23 23:01:07.088461"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 7], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:07.092254"], ["updated_at", "2017-11-23 23:01:07.092254"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:07.098292"], ["updated_at", "2017-11-23 23:01:07.098292"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 8], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 8], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:07.101627"], ["updated_at", "2017-11-23 23:01:07.101627"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:07.103773"], ["updated_at", "2017-11-23 23:01:07.103773"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 9], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:07.105634"], ["updated_at", "2017-11-23 23:01:07.105634"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:07.111313"], ["updated_at", "2017-11-23 23:01:07.111313"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 10], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 10], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:07.114516"], ["updated_at", "2017-11-23 23:01:07.114516"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:07.116615"], ["updated_at", "2017-11-23 23:01:07.116615"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 11], ["created_at", "2017-11-23 23:01:07.118666"], ["updated_at", "2017-11-23 23:01:07.118666"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:07.129802"], ["updated_at", "2017-11-23 23:01:07.129802"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 12], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 12], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:07.133964"], ["updated_at", "2017-11-23 23:01:07.133964"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 12], ["created_at", "2017-11-23 23:01:07.136198"], ["updated_at", "2017-11-23 23:01:07.136198"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:07.141785"], ["updated_at", "2017-11-23 23:01:07.141785"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 13], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 13], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:07.144900"], ["updated_at", "2017-11-23 23:01:07.144900"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 13], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:07.167353"], ["updated_at", "2017-11-23 23:01:07.167353"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 14], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 14], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:07.170831"], ["updated_at", "2017-11-23 23:01:07.170831"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:07.173022"], ["updated_at", "2017-11-23 23:01:07.173022"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 15], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:37.997936"], ["updated_at", "2017-11-23 23:01:37.997936"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 16], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 16], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:38.006311"], ["updated_at", "2017-11-23 23:01:38.006311"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 16], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:38.010295"], ["updated_at", "2017-11-23 23:01:38.010295"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:38.016453"], ["updated_at", "2017-11-23 23:01:38.016453"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 17], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 17], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:38.019849"], ["updated_at", "2017-11-23 23:01:38.019849"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:38.022157"], ["updated_at", "2017-11-23 23:01:38.022157"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 18], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:38.023995"], ["updated_at", "2017-11-23 23:01:38.023995"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:38.030228"], ["updated_at", "2017-11-23 23:01:38.030228"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 19], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 19], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:38.033350"], ["updated_at", "2017-11-23 23:01:38.033350"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:38.035616"], ["updated_at", "2017-11-23 23:01:38.035616"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 20], ["created_at", "2017-11-23 23:01:38.037536"], ["updated_at", "2017-11-23 23:01:38.037536"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:38.048589"], ["updated_at", "2017-11-23 23:01:38.048589"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 21], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 21], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:38.052578"], ["updated_at", "2017-11-23 23:01:38.052578"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 21], ["created_at", "2017-11-23 23:01:38.054955"], ["updated_at", "2017-11-23 23:01:38.054955"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:38.061043"], ["updated_at", "2017-11-23 23:01:38.061043"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 22], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 22], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:38.064392"], ["updated_at", "2017-11-23 23:01:38.064392"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 22], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:38.087061"], ["updated_at", "2017-11-23 23:01:38.087061"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 23], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 23], ["line_item_id", 1], ["created_at", "2017-11-23 23:01:38.090645"], ["updated_at", "2017-11-23 23:01:38.090645"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:01:38.092720"], ["updated_at", "2017-11-23 23:01:38.092720"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 24], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:02:18.962791"], ["updated_at", "2017-11-23 23:02:18.962791"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 25], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 25], ["line_item_id", 1], ["created_at", "2017-11-23 23:02:18.971346"], ["updated_at", "2017-11-23 23:02:18.971346"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 25], ["line_item_id", 1], ["created_at", "2017-11-23 23:02:18.975397"], ["updated_at", "2017-11-23 23:02:18.975397"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:02:18.981396"], ["updated_at", "2017-11-23 23:02:18.981396"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 26], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 26], ["line_item_id", 1], ["created_at", "2017-11-23 23:02:18.984664"], ["updated_at", "2017-11-23 23:02:18.984664"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:02:18.987026"], ["updated_at", "2017-11-23 23:02:18.987026"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 27], ["line_item_id", 1], ["created_at", "2017-11-23 23:02:18.988821"], ["updated_at", "2017-11-23 23:02:18.988821"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:02:18.994333"], ["updated_at", "2017-11-23 23:02:18.994333"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 28], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 28], ["line_item_id", 1], ["created_at", "2017-11-23 23:02:18.997365"], ["updated_at", "2017-11-23 23:02:18.997365"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:02:18.999111"], ["updated_at", "2017-11-23 23:02:18.999111"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:02:19.004264"], ["updated_at", "2017-11-23 23:02:19.004264"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 30], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 30], ["line_item_id", 1], ["created_at", "2017-11-23 23:02:19.008437"], ["updated_at", "2017-11-23 23:02:19.008437"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:02:19.015280"], ["updated_at", "2017-11-23 23:02:19.015280"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 31], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 31], ["line_item_id", 1], ["created_at", "2017-11-23 23:02:19.018542"], ["updated_at", "2017-11-23 23:02:19.018542"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 31], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:02:19.033960"], ["updated_at", "2017-11-23 23:02:19.033960"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 32], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 32], ["line_item_id", 1], ["created_at", "2017-11-23 23:02:19.037196"], ["updated_at", "2017-11-23 23:02:19.037196"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:02:19.040430"], ["updated_at", "2017-11-23 23:02:19.040430"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 33], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.205346"], ["updated_at", "2017-11-23 23:36:03.205346"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 34], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 34], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:03.213639"], ["updated_at", "2017-11-23 23:36:03.213639"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 34], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:03.217320"], ["updated_at", "2017-11-23 23:36:03.217320"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.223780"], ["updated_at", "2017-11-23 23:36:03.223780"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 35], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 35], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:03.227007"], ["updated_at", "2017-11-23 23:36:03.227007"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.229350"], ["updated_at", "2017-11-23 23:36:03.229350"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 36], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:03.231916"], ["updated_at", "2017-11-23 23:36:03.231916"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.237828"], ["updated_at", "2017-11-23 23:36:03.237828"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 37], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 37], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:03.241113"], ["updated_at", "2017-11-23 23:36:03.241113"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.243346"], ["updated_at", "2017-11-23 23:36:03.243346"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 38], ["created_at", "2017-11-23 23:36:03.245096"], ["updated_at", "2017-11-23 23:36:03.245096"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.252689"], ["updated_at", "2017-11-23 23:36:03.252689"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 39], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 39], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:03.256437"], ["updated_at", "2017-11-23 23:36:03.256437"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 39], ["created_at", "2017-11-23 23:36:03.258542"], ["updated_at", "2017-11-23 23:36:03.258542"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.272187"], ["updated_at", "2017-11-23 23:36:03.272187"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 40], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 40], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:03.275931"], ["updated_at", "2017-11-23 23:36:03.275931"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 40], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.294650"], ["updated_at", "2017-11-23 23:36:03.294650"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 41], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 41], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:03.298109"], ["updated_at", "2017-11-23 23:36:03.298109"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.299997"], ["updated_at", "2017-11-23 23:36:03.299997"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 42], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.307185"], ["updated_at", "2017-11-23 23:36:03.307185"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.313552"], ["updated_at", "2017-11-23 23:36:03.313552"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 44], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 44], ["created_at", "2017-11-23 23:36:03.318025"], ["updated_at", "2017-11-23 23:36:03.318025"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.319852"], ["updated_at", "2017-11-23 23:36:03.319852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.325152"], ["updated_at", "2017-11-23 23:36:03.325152"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 46], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 46], ["created_at", "2017-11-23 23:36:03.328157"], ["updated_at", "2017-11-23 23:36:03.328157"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:03.330263"], ["updated_at", "2017-11-23 23:36:03.330263"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.742487"], ["updated_at", "2017-11-23 23:36:18.742487"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (4.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 48], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 48], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:18.754575"], ["updated_at", "2017-11-23 23:36:18.754575"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 48], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:18.757264"], ["updated_at", "2017-11-23 23:36:18.757264"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.762490"], ["updated_at", "2017-11-23 23:36:18.762490"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 49], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 49], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:18.765514"], ["updated_at", "2017-11-23 23:36:18.765514"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.767271"], ["updated_at", "2017-11-23 23:36:18.767271"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 50], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:18.768713"], ["updated_at", "2017-11-23 23:36:18.768713"]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.774149"], ["updated_at", "2017-11-23 23:36:18.774149"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 51], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 51], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:18.777160"], ["updated_at", "2017-11-23 23:36:18.777160"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.778958"], ["updated_at", "2017-11-23 23:36:18.778958"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 52], ["created_at", "2017-11-23 23:36:18.780337"], ["updated_at", "2017-11-23 23:36:18.780337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.785671"], ["updated_at", "2017-11-23 23:36:18.785671"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 53], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 53], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:18.790727"], ["updated_at", "2017-11-23 23:36:18.790727"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 53], ["created_at", "2017-11-23 23:36:18.792889"], ["updated_at", "2017-11-23 23:36:18.792889"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.798503"], ["updated_at", "2017-11-23 23:36:18.798503"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 54], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 54], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:18.801647"], ["updated_at", "2017-11-23 23:36:18.801647"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 54], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.817052"], ["updated_at", "2017-11-23 23:36:18.817052"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 55], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 55], ["line_item_id", 1], ["created_at", "2017-11-23 23:36:18.822709"], ["updated_at", "2017-11-23 23:36:18.822709"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.824683"], ["updated_at", "2017-11-23 23:36:18.824683"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 56], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.831909"], ["updated_at", "2017-11-23 23:36:18.831909"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.836844"], ["updated_at", "2017-11-23 23:36:18.836844"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 58], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 58], ["created_at", "2017-11-23 23:36:18.839832"], ["updated_at", "2017-11-23 23:36:18.839832"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.841694"], ["updated_at", "2017-11-23 23:36:18.841694"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.846916"], ["updated_at", "2017-11-23 23:36:18.846916"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 60], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 60], ["created_at", "2017-11-23 23:36:18.850618"], ["updated_at", "2017-11-23 23:36:18.850618"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:36:18.853745"], ["updated_at", "2017-11-23 23:36:18.853745"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.585340"], ["updated_at", "2017-11-23 23:42:04.585340"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 62], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 62], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:04.593575"], ["updated_at", "2017-11-23 23:42:04.593575"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 62], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:04.597081"], ["updated_at", "2017-11-23 23:42:04.597081"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.603425"], ["updated_at", "2017-11-23 23:42:04.603425"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 63], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 63], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:04.606966"], ["updated_at", "2017-11-23 23:42:04.606966"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.609125"], ["updated_at", "2017-11-23 23:42:04.609125"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 64], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:04.611037"], ["updated_at", "2017-11-23 23:42:04.611037"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.616602"], ["updated_at", "2017-11-23 23:42:04.616602"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 65], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 65], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:04.619827"], ["updated_at", "2017-11-23 23:42:04.619827"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.621951"], ["updated_at", "2017-11-23 23:42:04.621951"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 66], ["created_at", "2017-11-23 23:42:04.623670"], ["updated_at", "2017-11-23 23:42:04.623670"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.631468"], ["updated_at", "2017-11-23 23:42:04.631468"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 67], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 67], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:04.634817"], ["updated_at", "2017-11-23 23:42:04.634817"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 67], ["created_at", "2017-11-23 23:42:04.636846"], ["updated_at", "2017-11-23 23:42:04.636846"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.643019"], ["updated_at", "2017-11-23 23:42:04.643019"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 68], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 68], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:04.646101"], ["updated_at", "2017-11-23 23:42:04.646101"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 68], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.663980"], ["updated_at", "2017-11-23 23:42:04.663980"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 69], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 69], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:04.667366"], ["updated_at", "2017-11-23 23:42:04.667366"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.673496"], ["updated_at", "2017-11-23 23:42:04.673496"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 70], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.680908"], ["updated_at", "2017-11-23 23:42:04.680908"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 71], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 71], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 71], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:04.685883"], ["updated_at", "2017-11-23 23:42:04.685883"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.693382"], ["updated_at", "2017-11-23 23:42:04.693382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 72], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 72], ["created_at", "2017-11-23 23:42:04.696684"], ["updated_at", "2017-11-23 23:42:04.696684"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.698522"], ["updated_at", "2017-11-23 23:42:04.698522"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 73], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 73], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.708203"], ["updated_at", "2017-11-23 23:42:04.708203"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 74], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 74], ["created_at", "2017-11-23 23:42:04.711325"], ["updated_at", "2017-11-23 23:42:04.711325"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:04.713020"], ["updated_at", "2017-11-23 23:42:04.713020"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 75], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 75], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 75], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 100500], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 75], ["line_item_id", 100500], ["created_at", "2017-11-23 23:42:04.719932"], ["updated_at", "2017-11-23 23:42:04.719932"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.590399"], ["updated_at", "2017-11-23 23:42:32.590399"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 76], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 76], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:32.598873"], ["updated_at", "2017-11-23 23:42:32.598873"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 76], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:32.602679"], ["updated_at", "2017-11-23 23:42:32.602679"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.608945"], ["updated_at", "2017-11-23 23:42:32.608945"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 77], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 77], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:32.612247"], ["updated_at", "2017-11-23 23:42:32.612247"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.614256"], ["updated_at", "2017-11-23 23:42:32.614256"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 78], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:32.616211"], ["updated_at", "2017-11-23 23:42:32.616211"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.621901"], ["updated_at", "2017-11-23 23:42:32.621901"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 79], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 79], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:32.624988"], ["updated_at", "2017-11-23 23:42:32.624988"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.627085"], ["updated_at", "2017-11-23 23:42:32.627085"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 80], ["created_at", "2017-11-23 23:42:32.628847"], ["updated_at", "2017-11-23 23:42:32.628847"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.636826"], ["updated_at", "2017-11-23 23:42:32.636826"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 81], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 81], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:32.640272"], ["updated_at", "2017-11-23 23:42:32.640272"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 81], ["created_at", "2017-11-23 23:42:32.642567"], ["updated_at", "2017-11-23 23:42:32.642567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.648424"], ["updated_at", "2017-11-23 23:42:32.648424"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 82], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 82], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:32.651558"], ["updated_at", "2017-11-23 23:42:32.651558"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 82], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.669204"], ["updated_at", "2017-11-23 23:42:32.669204"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 83], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 83], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:32.672748"], ["updated_at", "2017-11-23 23:42:32.672748"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.675148"], ["updated_at", "2017-11-23 23:42:32.675148"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 84], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.682341"], ["updated_at", "2017-11-23 23:42:32.682341"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 85], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 85], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 85], ["line_item_id", 1], ["created_at", "2017-11-23 23:42:32.687476"], ["updated_at", "2017-11-23 23:42:32.687476"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 85], ["id", 83], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 83], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.705192"], ["updated_at", "2017-11-23 23:42:32.705192"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 86], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 86], ["created_at", "2017-11-23 23:42:32.708447"], ["updated_at", "2017-11-23 23:42:32.708447"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.710323"], ["updated_at", "2017-11-23 23:42:32.710323"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 87], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 87], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 87], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.723391"], ["updated_at", "2017-11-23 23:42:32.723391"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 88], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 88], ["created_at", "2017-11-23 23:42:32.726560"], ["updated_at", "2017-11-23 23:42:32.726560"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:42:32.729729"], ["updated_at", "2017-11-23 23:42:32.729729"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 89], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 89], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 89], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 100500], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 89], ["line_item_id", 100500], ["created_at", "2017-11-23 23:42:32.737973"], ["updated_at", "2017-11-23 23:42:32.737973"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.117086"], ["updated_at", "2017-11-23 23:43:00.117086"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 90], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 90], ["line_item_id", 1], ["created_at", "2017-11-23 23:43:00.125188"], ["updated_at", "2017-11-23 23:43:00.125188"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 90], ["line_item_id", 1], ["created_at", "2017-11-23 23:43:00.129031"], ["updated_at", "2017-11-23 23:43:00.129031"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.135473"], ["updated_at", "2017-11-23 23:43:00.135473"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 91], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 91], ["line_item_id", 1], ["created_at", "2017-11-23 23:43:00.138738"], ["updated_at", "2017-11-23 23:43:00.138738"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.140781"], ["updated_at", "2017-11-23 23:43:00.140781"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 92], ["line_item_id", 1], ["created_at", "2017-11-23 23:43:00.142835"], ["updated_at", "2017-11-23 23:43:00.142835"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.148790"], ["updated_at", "2017-11-23 23:43:00.148790"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 93], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 93], ["line_item_id", 1], ["created_at", "2017-11-23 23:43:00.152100"], ["updated_at", "2017-11-23 23:43:00.152100"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.154675"], ["updated_at", "2017-11-23 23:43:00.154675"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 94], ["created_at", "2017-11-23 23:43:00.156349"], ["updated_at", "2017-11-23 23:43:00.156349"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.164159"], ["updated_at", "2017-11-23 23:43:00.164159"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 95], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 95], ["line_item_id", 1], ["created_at", "2017-11-23 23:43:00.167540"], ["updated_at", "2017-11-23 23:43:00.167540"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 95], ["created_at", "2017-11-23 23:43:00.169381"], ["updated_at", "2017-11-23 23:43:00.169381"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.174753"], ["updated_at", "2017-11-23 23:43:00.174753"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 96], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 96], ["line_item_id", 1], ["created_at", "2017-11-23 23:43:00.177933"], ["updated_at", "2017-11-23 23:43:00.177933"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 96], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.195274"], ["updated_at", "2017-11-23 23:43:00.195274"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 97], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 97], ["line_item_id", 1], ["created_at", "2017-11-23 23:43:00.198631"], ["updated_at", "2017-11-23 23:43:00.198631"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.200463"], ["updated_at", "2017-11-23 23:43:00.200463"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 98], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.207381"], ["updated_at", "2017-11-23 23:43:00.207381"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 99], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 99], ["line_item_id", 1], ["created_at", "2017-11-23 23:43:00.212183"], ["updated_at", "2017-11-23 23:43:00.212183"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 99], ["id", 97], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 97], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.228905"], ["updated_at", "2017-11-23 23:43:00.228905"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 100], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 100], ["created_at", "2017-11-23 23:43:00.232019"], ["updated_at", "2017-11-23 23:43:00.232019"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.233788"], ["updated_at", "2017-11-23 23:43:00.233788"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 101], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 101], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 101], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.247046"], ["updated_at", "2017-11-23 23:43:00.247046"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 102], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 102], ["created_at", "2017-11-23 23:43:00.250081"], ["updated_at", "2017-11-23 23:43:00.250081"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:00.251697"], ["updated_at", "2017-11-23 23:43:00.251697"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 103], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.4ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 103], ["LIMIT", 1]]
  [1m[36mPayment Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 103], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 100500], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 103], ["line_item_id", 100500], ["created_at", "2017-11-23 23:43:00.261101"], ["updated_at", "2017-11-23 23:43:00.261101"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:23.711143"], ["updated_at", "2017-11-23 23:43:23.711143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.4ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 104], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 104], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 104], ["line_item_id", 1], ["created_at", "2017-11-23 23:43:23.735455"], ["updated_at", "2017-11-23 23:43:23.735455"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 104], ["id", 101], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 101], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:23.753907"], ["updated_at", "2017-11-23 23:43:23.753907"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 105], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 105], ["created_at", "2017-11-23 23:43:23.757858"], ["updated_at", "2017-11-23 23:43:23.757858"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:23.759870"], ["updated_at", "2017-11-23 23:43:23.759870"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 106], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 106], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 106], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:23.777613"], ["updated_at", "2017-11-23 23:43:23.777613"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 107], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (22.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 107], ["created_at", "2017-11-23 23:43:23.781039"], ["updated_at", "2017-11-23 23:43:23.781039"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:43:23.805635"], ["updated_at", "2017-11-23 23:43:23.805635"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 108], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 108], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 108], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 100500], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 108], ["line_item_id", 100500], ["created_at", "2017-11-23 23:43:23.813401"], ["updated_at", "2017-11-23 23:43:23.813401"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:44:59.821726"], ["updated_at", "2017-11-23 23:44:59.821726"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:44:59.834263"], ["updated_at", "2017-11-23 23:44:59.834263"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 110], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 110], ["created_at", "2017-11-23 23:44:59.846037"], ["updated_at", "2017-11-23 23:44:59.846037"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:44:59.848028"], ["updated_at", "2017-11-23 23:44:59.848028"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:44:59.852583"], ["updated_at", "2017-11-23 23:44:59.852583"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 112], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 112], ["created_at", "2017-11-23 23:44:59.855727"], ["updated_at", "2017-11-23 23:44:59.855727"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:44:59.857355"], ["updated_at", "2017-11-23 23:44:59.857355"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:45:12.199285"], ["updated_at", "2017-11-23 23:45:12.199285"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 114], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 114], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 114], ["line_item_id", 1], ["created_at", "2017-11-23 23:45:12.222672"], ["updated_at", "2017-11-23 23:45:12.222672"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 114], ["id", 107], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 107], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:45:12.237444"], ["updated_at", "2017-11-23 23:45:12.237444"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 115], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 115], ["created_at", "2017-11-23 23:45:12.240714"], ["updated_at", "2017-11-23 23:45:12.240714"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:45:12.242400"], ["updated_at", "2017-11-23 23:45:12.242400"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 116], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 116], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 116], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:45:12.260163"], ["updated_at", "2017-11-23 23:45:12.260163"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 117], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 117], ["created_at", "2017-11-23 23:45:12.263218"], ["updated_at", "2017-11-23 23:45:12.263218"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:45:12.264761"], ["updated_at", "2017-11-23 23:45:12.264761"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 118], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 118], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 118], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 100500], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 118], ["line_item_id", 100500], ["created_at", "2017-11-23 23:45:12.271016"], ["updated_at", "2017-11-23 23:45:12.271016"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:46:10.548421"], ["updated_at", "2017-11-23 23:46:10.548421"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.4ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 119], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 119], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 119], ["line_item_id", 1], ["created_at", "2017-11-23 23:46:10.572231"], ["updated_at", "2017-11-23 23:46:10.572231"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 119], ["id", 111], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 111], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:13.871628"], ["updated_at", "2017-11-23 23:49:13.871628"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 120], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 120], ["line_item_id", 1], ["created_at", "2017-11-23 23:49:13.879649"], ["updated_at", "2017-11-23 23:49:13.879649"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 120], ["line_item_id", 1], ["created_at", "2017-11-23 23:49:13.883301"], ["updated_at", "2017-11-23 23:49:13.883301"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:13.889402"], ["updated_at", "2017-11-23 23:49:13.889402"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 121], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 121], ["line_item_id", 1], ["created_at", "2017-11-23 23:49:13.892902"], ["updated_at", "2017-11-23 23:49:13.892902"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:13.895318"], ["updated_at", "2017-11-23 23:49:13.895318"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 122], ["line_item_id", 1], ["created_at", "2017-11-23 23:49:13.897266"], ["updated_at", "2017-11-23 23:49:13.897266"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:13.903082"], ["updated_at", "2017-11-23 23:49:13.903082"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 123], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 123], ["line_item_id", 1], ["created_at", "2017-11-23 23:49:13.906025"], ["updated_at", "2017-11-23 23:49:13.906025"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:13.907911"], ["updated_at", "2017-11-23 23:49:13.907911"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 124], ["created_at", "2017-11-23 23:49:13.909576"], ["updated_at", "2017-11-23 23:49:13.909576"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:13.917009"], ["updated_at", "2017-11-23 23:49:13.917009"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 125], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 125], ["line_item_id", 1], ["created_at", "2017-11-23 23:49:13.920609"], ["updated_at", "2017-11-23 23:49:13.920609"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 125], ["created_at", "2017-11-23 23:49:13.922605"], ["updated_at", "2017-11-23 23:49:13.922605"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:13.928235"], ["updated_at", "2017-11-23 23:49:13.928235"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 126], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 126], ["line_item_id", 1], ["created_at", "2017-11-23 23:49:13.931393"], ["updated_at", "2017-11-23 23:49:13.931393"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 126], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:13.949610"], ["updated_at", "2017-11-23 23:49:13.949610"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 127], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 127], ["line_item_id", 1], ["created_at", "2017-11-23 23:49:13.953222"], ["updated_at", "2017-11-23 23:49:13.953222"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:13.955334"], ["updated_at", "2017-11-23 23:49:13.955334"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 128], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:13.962494"], ["updated_at", "2017-11-23 23:49:13.962494"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 129], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 129], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 129], ["line_item_id", 1], ["created_at", "2017-11-23 23:49:13.967375"], ["updated_at", "2017-11-23 23:49:13.967375"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 129], ["id", 122], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 122], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:13.994958"], ["updated_at", "2017-11-23 23:49:13.994958"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 130], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 130], ["created_at", "2017-11-23 23:49:13.998021"], ["updated_at", "2017-11-23 23:49:13.998021"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:13.999737"], ["updated_at", "2017-11-23 23:49:13.999737"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 131], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 131], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 131], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:14.020836"], ["updated_at", "2017-11-23 23:49:14.020836"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 132], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 132], ["created_at", "2017-11-23 23:49:14.023998"], ["updated_at", "2017-11-23 23:49:14.023998"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:14.025867"], ["updated_at", "2017-11-23 23:49:14.025867"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 133], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 133], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 133], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 100500], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 133], ["line_item_id", 100500], ["created_at", "2017-11-23 23:49:14.032981"], ["updated_at", "2017-11-23 23:49:14.032981"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:29.422169"], ["updated_at", "2017-11-23 23:49:29.422169"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 134], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.5ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 134], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 134], ["line_item_id", 1], ["created_at", "2017-11-23 23:49:29.446702"], ["updated_at", "2017-11-23 23:49:29.446702"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 134], ["id", 126], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 126], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:29.455357"], ["updated_at", "2017-11-23 23:49:29.455357"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 135], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 135], ["created_at", "2017-11-23 23:49:29.458583"], ["updated_at", "2017-11-23 23:49:29.458583"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:29.460151"], ["updated_at", "2017-11-23 23:49:29.460151"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 136], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 136], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 136], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:29.487766"], ["updated_at", "2017-11-23 23:49:29.487766"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 137], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 137], ["created_at", "2017-11-23 23:49:29.490704"], ["updated_at", "2017-11-23 23:49:29.490704"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:49:29.492216"], ["updated_at", "2017-11-23 23:49:29.492216"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 138], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 138], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 138], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 100500], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 138], ["line_item_id", 100500], ["created_at", "2017-11-23 23:49:29.498797"], ["updated_at", "2017-11-23 23:49:29.498797"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:50:07.418302"], ["updated_at", "2017-11-23 23:50:07.418302"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 139], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 139], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 139], ["line_item_id", 1], ["created_at", "2017-11-23 23:50:07.442189"], ["updated_at", "2017-11-23 23:50:07.442189"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 139], ["id", 130], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 130], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:50:07.452296"], ["updated_at", "2017-11-23 23:50:07.452296"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 140], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 140], ["created_at", "2017-11-23 23:50:07.455377"], ["updated_at", "2017-11-23 23:50:07.455377"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 140], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" IS NULL LIMIT $3[0m  [["service_id", 140], ["id", 131], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL AND ("payments"."id" != $1) LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:50:07.468054"], ["updated_at", "2017-11-23 23:50:07.468054"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 141], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 141], ["created_at", "2017-11-23 23:50:07.471317"], ["updated_at", "2017-11-23 23:50:07.471317"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:50:07.473148"], ["updated_at", "2017-11-23 23:50:07.473148"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 142], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 142], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 142], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 100500], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 142], ["line_item_id", 100500], ["created_at", "2017-11-23 23:50:07.483270"], ["updated_at", "2017-11-23 23:50:07.483270"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:56:39.137649"], ["updated_at", "2017-11-23 23:56:39.137649"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 143], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 143], ["line_item_id", 1], ["created_at", "2017-11-23 23:56:39.164786"], ["updated_at", "2017-11-23 23:56:39.164786"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 143], ["id", 134], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 134], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:56:39.176667"], ["updated_at", "2017-11-23 23:56:39.176667"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 144], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 144], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 144], ["line_item_id", 1], ["created_at", "2017-11-23 23:56:39.183773"], ["updated_at", "2017-11-23 23:56:39.183773"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 144], ["id", 135], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 135], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-23 23:56:39.187577"], ["id", 135]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:56:39.194320"], ["updated_at", "2017-11-23 23:56:39.194320"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 145], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 145], ["created_at", "2017-11-23 23:56:39.197420"], ["updated_at", "2017-11-23 23:56:39.197420"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:56:39.199180"], ["updated_at", "2017-11-23 23:56:39.199180"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 146], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 146], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 146], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 100500], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 146], ["line_item_id", 100500], ["created_at", "2017-11-23 23:56:39.211563"], ["updated_at", "2017-11-23 23:56:39.211563"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:56:51.686783"], ["updated_at", "2017-11-23 23:56:51.686783"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 147], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 147], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 147], ["line_item_id", 1], ["created_at", "2017-11-23 23:56:51.706774"], ["updated_at", "2017-11-23 23:56:51.706774"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 147], ["id", 138], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 138], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:56:51.715725"], ["updated_at", "2017-11-23 23:56:51.715725"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 148], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 148], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 148], ["line_item_id", 1], ["created_at", "2017-11-23 23:56:51.720706"], ["updated_at", "2017-11-23 23:56:51.720706"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 148], ["id", 139], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 139], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-23 23:56:51.724809"], ["id", 139]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:56:51.732548"], ["updated_at", "2017-11-23 23:56:51.732548"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 149], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 149], ["created_at", "2017-11-23 23:56:51.735811"], ["updated_at", "2017-11-23 23:56:51.735811"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:56:51.737431"], ["updated_at", "2017-11-23 23:56:51.737431"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 150], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 150], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 150], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 100500], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 150], ["line_item_id", 100500], ["created_at", "2017-11-23 23:56:51.748220"], ["updated_at", "2017-11-23 23:56:51.748220"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:57:36.977465"], ["updated_at", "2017-11-23 23:57:36.977465"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 151], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 151], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 151], ["line_item_id", 1], ["created_at", "2017-11-23 23:57:37.000304"], ["updated_at", "2017-11-23 23:57:37.000304"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 151], ["id", 142], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 142], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:57:37.011528"], ["updated_at", "2017-11-23 23:57:37.011528"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 152], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 152], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 152], ["line_item_id", 1], ["created_at", "2017-11-23 23:57:37.017491"], ["updated_at", "2017-11-23 23:57:37.017491"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 152], ["id", 143], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 143], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-23 23:57:37.023387"], ["id", 143]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:57:37.030972"], ["updated_at", "2017-11-23 23:57:37.030972"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 153], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 153], ["created_at", "2017-11-23 23:57:37.034402"], ["updated_at", "2017-11-23 23:57:37.034402"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:57:37.036178"], ["updated_at", "2017-11-23 23:57:37.036178"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 154], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 154], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 154], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 154], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 100500], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 154], ["line_item_id", 100500], ["created_at", "2017-11-23 23:57:37.047217"], ["updated_at", "2017-11-23 23:57:37.047217"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:10.885430"], ["updated_at", "2017-11-23 23:58:10.885430"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 155], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 155], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:10.892857"], ["updated_at", "2017-11-23 23:58:10.892857"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 155], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:10.895717"], ["updated_at", "2017-11-23 23:58:10.895717"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:10.901307"], ["updated_at", "2017-11-23 23:58:10.901307"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 156], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 156], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:10.904379"], ["updated_at", "2017-11-23 23:58:10.904379"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:10.906337"], ["updated_at", "2017-11-23 23:58:10.906337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 157], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:10.907806"], ["updated_at", "2017-11-23 23:58:10.907806"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:10.913377"], ["updated_at", "2017-11-23 23:58:10.913377"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 158], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 158], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:10.916670"], ["updated_at", "2017-11-23 23:58:10.916670"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:10.918507"], ["updated_at", "2017-11-23 23:58:10.918507"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 159], ["created_at", "2017-11-23 23:58:10.919912"], ["updated_at", "2017-11-23 23:58:10.919912"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:10.925543"], ["updated_at", "2017-11-23 23:58:10.925543"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 160], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 160], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:10.930139"], ["updated_at", "2017-11-23 23:58:10.930139"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 160], ["created_at", "2017-11-23 23:58:10.932173"], ["updated_at", "2017-11-23 23:58:10.932173"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:10.937418"], ["updated_at", "2017-11-23 23:58:10.937418"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 161], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 161], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:10.940557"], ["updated_at", "2017-11-23 23:58:10.940557"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 161], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:10.956309"], ["updated_at", "2017-11-23 23:58:10.956309"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 162], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 162], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:10.961104"], ["updated_at", "2017-11-23 23:58:10.961104"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:10.963186"], ["updated_at", "2017-11-23 23:58:10.963186"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 163], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:10.971768"], ["updated_at", "2017-11-23 23:58:10.971768"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 164], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 164], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 164], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:10.980506"], ["updated_at", "2017-11-23 23:58:10.980506"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 164], ["id", 156], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 156], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:10.988946"], ["updated_at", "2017-11-23 23:58:10.988946"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.6ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 165], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 165], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 165], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:10.995054"], ["updated_at", "2017-11-23 23:58:10.995054"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 165], ["id", 157], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 157], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-23 23:58:10.998099"], ["id", 157]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:11.003852"], ["updated_at", "2017-11-23 23:58:11.003852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 166], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 166], ["created_at", "2017-11-23 23:58:11.007078"], ["updated_at", "2017-11-23 23:58:11.007078"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 166], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 166], ["id", 158], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 158], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-23 23:58:11.011677"], ["id", 158]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:21.142466"], ["updated_at", "2017-11-23 23:58:21.142466"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 167], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 167], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:21.150551"], ["updated_at", "2017-11-23 23:58:21.150551"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 167], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:21.154521"], ["updated_at", "2017-11-23 23:58:21.154521"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:21.159939"], ["updated_at", "2017-11-23 23:58:21.159939"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 168], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 168], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:21.163074"], ["updated_at", "2017-11-23 23:58:21.163074"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:21.165233"], ["updated_at", "2017-11-23 23:58:21.165233"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 169], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:21.167203"], ["updated_at", "2017-11-23 23:58:21.167203"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:21.172420"], ["updated_at", "2017-11-23 23:58:21.172420"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 170], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 170], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:21.175874"], ["updated_at", "2017-11-23 23:58:21.175874"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:21.178016"], ["updated_at", "2017-11-23 23:58:21.178016"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 171], ["created_at", "2017-11-23 23:58:21.179754"], ["updated_at", "2017-11-23 23:58:21.179754"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:21.185722"], ["updated_at", "2017-11-23 23:58:21.185722"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 172], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 172], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:21.189746"], ["updated_at", "2017-11-23 23:58:21.189746"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 172], ["created_at", "2017-11-23 23:58:21.191692"], ["updated_at", "2017-11-23 23:58:21.191692"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:21.196502"], ["updated_at", "2017-11-23 23:58:21.196502"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 173], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 173], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:21.199721"], ["updated_at", "2017-11-23 23:58:21.199721"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 173], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:21.215186"], ["updated_at", "2017-11-23 23:58:21.215186"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 174], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 174], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:21.219771"], ["updated_at", "2017-11-23 23:58:21.219771"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:21.221869"], ["updated_at", "2017-11-23 23:58:21.221869"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 175], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:21.229420"], ["updated_at", "2017-11-23 23:58:21.229420"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 176], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 176], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 176], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:21.234454"], ["updated_at", "2017-11-23 23:58:21.234454"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 176], ["id", 169], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:21.242672"], ["updated_at", "2017-11-23 23:58:21.242672"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 177], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 177], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 177], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:21.247929"], ["updated_at", "2017-11-23 23:58:21.247929"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 177], ["id", 170], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 170], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-23 23:58:21.252251"], ["id", 170]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:21.258061"], ["updated_at", "2017-11-23 23:58:21.258061"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 178], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 178], ["created_at", "2017-11-23 23:58:21.261028"], ["updated_at", "2017-11-23 23:58:21.261028"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 178], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 178], ["id", 171], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 171], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-23 23:58:21.265730"], ["id", 171]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:27.044140"], ["updated_at", "2017-11-23 23:58:27.044140"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 179], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 179], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:27.051575"], ["updated_at", "2017-11-23 23:58:27.051575"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 179], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:27.054448"], ["updated_at", "2017-11-23 23:58:27.054448"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:27.059467"], ["updated_at", "2017-11-23 23:58:27.059467"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 180], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 180], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:27.062543"], ["updated_at", "2017-11-23 23:58:27.062543"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:27.064300"], ["updated_at", "2017-11-23 23:58:27.064300"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 181], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:27.065782"], ["updated_at", "2017-11-23 23:58:27.065782"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:27.070757"], ["updated_at", "2017-11-23 23:58:27.070757"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 182], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 182], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:27.073778"], ["updated_at", "2017-11-23 23:58:27.073778"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:27.075555"], ["updated_at", "2017-11-23 23:58:27.075555"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 183], ["created_at", "2017-11-23 23:58:27.076918"], ["updated_at", "2017-11-23 23:58:27.076918"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:27.081766"], ["updated_at", "2017-11-23 23:58:27.081766"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 184], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 184], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:27.085119"], ["updated_at", "2017-11-23 23:58:27.085119"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 184], ["created_at", "2017-11-23 23:58:27.088444"], ["updated_at", "2017-11-23 23:58:27.088444"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:27.093523"], ["updated_at", "2017-11-23 23:58:27.093523"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 185], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 185], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:27.096584"], ["updated_at", "2017-11-23 23:58:27.096584"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 185], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:27.110772"], ["updated_at", "2017-11-23 23:58:27.110772"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 186], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 186], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:27.113818"], ["updated_at", "2017-11-23 23:58:27.113818"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:27.115657"], ["updated_at", "2017-11-23 23:58:27.115657"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 187], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:27.124692"], ["updated_at", "2017-11-23 23:58:27.124692"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 188], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 188], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 188], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:27.129525"], ["updated_at", "2017-11-23 23:58:27.129525"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 188], ["id", 182], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 182], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:27.137181"], ["updated_at", "2017-11-23 23:58:27.137181"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 189], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 189], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 189], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:27.141639"], ["updated_at", "2017-11-23 23:58:27.141639"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 189], ["id", 183], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 183], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-23 23:58:27.144409"], ["id", 183]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:27.151304"], ["updated_at", "2017-11-23 23:58:27.151304"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 190], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 190], ["created_at", "2017-11-23 23:58:27.154531"], ["updated_at", "2017-11-23 23:58:27.154531"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 190], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 190], ["id", 184], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 184], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-23 23:58:27.159133"], ["id", 184]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:42.758669"], ["updated_at", "2017-11-23 23:58:42.758669"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 191], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 191], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:42.766510"], ["updated_at", "2017-11-23 23:58:42.766510"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 191], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:42.769708"], ["updated_at", "2017-11-23 23:58:42.769708"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:42.775229"], ["updated_at", "2017-11-23 23:58:42.775229"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 192], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 192], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:42.778723"], ["updated_at", "2017-11-23 23:58:42.778723"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:42.780804"], ["updated_at", "2017-11-23 23:58:42.780804"]]
  [1m[35m (2.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 193], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:42.785831"], ["updated_at", "2017-11-23 23:58:42.785831"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:42.791200"], ["updated_at", "2017-11-23 23:58:42.791200"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 194], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 194], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:42.794621"], ["updated_at", "2017-11-23 23:58:42.794621"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:42.796538"], ["updated_at", "2017-11-23 23:58:42.796538"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 195], ["created_at", "2017-11-23 23:58:42.798119"], ["updated_at", "2017-11-23 23:58:42.798119"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:42.805553"], ["updated_at", "2017-11-23 23:58:42.805553"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 196], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 196], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:42.809441"], ["updated_at", "2017-11-23 23:58:42.809441"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 196], ["created_at", "2017-11-23 23:58:42.811585"], ["updated_at", "2017-11-23 23:58:42.811585"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:42.816298"], ["updated_at", "2017-11-23 23:58:42.816298"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 197], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 197], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:42.820624"], ["updated_at", "2017-11-23 23:58:42.820624"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 197], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:42.838479"], ["updated_at", "2017-11-23 23:58:42.838479"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 198], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 198], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:42.841546"], ["updated_at", "2017-11-23 23:58:42.841546"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:42.843261"], ["updated_at", "2017-11-23 23:58:42.843261"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 199], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:42.850538"], ["updated_at", "2017-11-23 23:58:42.850538"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 200], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.1ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 200], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 200], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:42.855437"], ["updated_at", "2017-11-23 23:58:42.855437"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 200], ["id", 195], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 195], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:42.863193"], ["updated_at", "2017-11-23 23:58:42.863193"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 201], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 201], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 201], ["line_item_id", 1], ["created_at", "2017-11-23 23:58:42.870190"], ["updated_at", "2017-11-23 23:58:42.870190"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 201], ["id", 196], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 196], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-23 23:58:42.873892"], ["id", 196]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-23 23:58:42.880600"], ["updated_at", "2017-11-23 23:58:42.880600"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 202], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 202], ["created_at", "2017-11-23 23:58:42.883740"], ["updated_at", "2017-11-23 23:58:42.883740"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 202], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 202], ["id", 197], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 197], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-23 23:58:42.888712"], ["id", 197]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:00:59.552291"], ["updated_at", "2017-11-24 00:00:59.552291"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 203], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 203], ["line_item_id", 1], ["created_at", "2017-11-24 00:00:59.559766"], ["updated_at", "2017-11-24 00:00:59.559766"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 203], ["line_item_id", 1], ["created_at", "2017-11-24 00:00:59.562598"], ["updated_at", "2017-11-24 00:00:59.562598"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:00:59.567848"], ["updated_at", "2017-11-24 00:00:59.567848"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 204], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 204], ["line_item_id", 1], ["created_at", "2017-11-24 00:00:59.570968"], ["updated_at", "2017-11-24 00:00:59.570968"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:00:59.572721"], ["updated_at", "2017-11-24 00:00:59.572721"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 205], ["line_item_id", 1], ["created_at", "2017-11-24 00:00:59.574241"], ["updated_at", "2017-11-24 00:00:59.574241"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:00:59.579604"], ["updated_at", "2017-11-24 00:00:59.579604"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 206], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 206], ["line_item_id", 1], ["created_at", "2017-11-24 00:00:59.582720"], ["updated_at", "2017-11-24 00:00:59.582720"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:00:59.584693"], ["updated_at", "2017-11-24 00:00:59.584693"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 207], ["created_at", "2017-11-24 00:00:59.586236"], ["updated_at", "2017-11-24 00:00:59.586236"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:00:59.591967"], ["updated_at", "2017-11-24 00:00:59.591967"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 208], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 208], ["line_item_id", 1], ["created_at", "2017-11-24 00:00:59.596467"], ["updated_at", "2017-11-24 00:00:59.596467"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 208], ["created_at", "2017-11-24 00:00:59.598529"], ["updated_at", "2017-11-24 00:00:59.598529"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:00:59.604115"], ["updated_at", "2017-11-24 00:00:59.604115"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 209], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 209], ["line_item_id", 1], ["created_at", "2017-11-24 00:00:59.607175"], ["updated_at", "2017-11-24 00:00:59.607175"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 209], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:00:59.625882"], ["updated_at", "2017-11-24 00:00:59.625882"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 210], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 210], ["line_item_id", 1], ["created_at", "2017-11-24 00:00:59.629906"], ["updated_at", "2017-11-24 00:00:59.629906"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:00:59.632009"], ["updated_at", "2017-11-24 00:00:59.632009"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 211], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:00:59.640646"], ["updated_at", "2017-11-24 00:00:59.640646"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 212], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 212], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 212], ["line_item_id", 1], ["created_at", "2017-11-24 00:00:59.645790"], ["updated_at", "2017-11-24 00:00:59.645790"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 212], ["id", 208], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 208], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:00:59.655583"], ["updated_at", "2017-11-24 00:00:59.655583"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 213], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 213], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 213], ["line_item_id", 1], ["created_at", "2017-11-24 00:00:59.662367"], ["updated_at", "2017-11-24 00:00:59.662367"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 213], ["id", 209], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 209], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-24 00:00:59.665210"], ["id", 209]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:00:59.671408"], ["updated_at", "2017-11-24 00:00:59.671408"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 214], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 214], ["created_at", "2017-11-24 00:00:59.674476"], ["updated_at", "2017-11-24 00:00:59.674476"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 214], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 214], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 214], ["id", 210], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 210], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-24 00:00:59.680060"], ["id", 210]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 210], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:37:44.074289"], ["updated_at", "2017-11-24 00:37:44.074289"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 215], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 215], ["created_at", "2017-11-24 00:37:44.085636"], ["updated_at", "2017-11-24 00:37:44.085636"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:39:14.110057"], ["updated_at", "2017-11-24 00:39:14.110057"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 216], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 216], ["created_at", "2017-11-24 00:39:14.123474"], ["updated_at", "2017-11-24 00:39:14.123474"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:39:30.875328"], ["updated_at", "2017-11-24 00:39:30.875328"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 217], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 217], ["created_at", "2017-11-24 00:39:30.888022"], ["updated_at", "2017-11-24 00:39:30.888022"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:11.536746"], ["updated_at", "2017-11-24 00:40:11.536746"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 218], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 218], ["created_at", "2017-11-24 00:40:11.550344"], ["updated_at", "2017-11-24 00:40:11.550344"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.041458"], ["updated_at", "2017-11-24 00:40:21.041458"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 219], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 219], ["line_item_id", 1], ["created_at", "2017-11-24 00:40:21.049611"], ["updated_at", "2017-11-24 00:40:21.049611"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 219], ["line_item_id", 1], ["created_at", "2017-11-24 00:40:21.053150"], ["updated_at", "2017-11-24 00:40:21.053150"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.058672"], ["updated_at", "2017-11-24 00:40:21.058672"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 220], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 220], ["line_item_id", 1], ["created_at", "2017-11-24 00:40:21.061923"], ["updated_at", "2017-11-24 00:40:21.061923"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.064051"], ["updated_at", "2017-11-24 00:40:21.064051"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 221], ["line_item_id", 1], ["created_at", "2017-11-24 00:40:21.065826"], ["updated_at", "2017-11-24 00:40:21.065826"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.071632"], ["updated_at", "2017-11-24 00:40:21.071632"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 222], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 222], ["line_item_id", 1], ["created_at", "2017-11-24 00:40:21.075008"], ["updated_at", "2017-11-24 00:40:21.075008"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.077482"], ["updated_at", "2017-11-24 00:40:21.077482"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 223], ["created_at", "2017-11-24 00:40:21.079321"], ["updated_at", "2017-11-24 00:40:21.079321"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.087341"], ["updated_at", "2017-11-24 00:40:21.087341"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 224], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 224], ["line_item_id", 1], ["created_at", "2017-11-24 00:40:21.091019"], ["updated_at", "2017-11-24 00:40:21.091019"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 224], ["created_at", "2017-11-24 00:40:21.093014"], ["updated_at", "2017-11-24 00:40:21.093014"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.098289"], ["updated_at", "2017-11-24 00:40:21.098289"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 225], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 225], ["line_item_id", 1], ["created_at", "2017-11-24 00:40:21.101356"], ["updated_at", "2017-11-24 00:40:21.101356"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 225], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 225], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.125078"], ["updated_at", "2017-11-24 00:40:21.125078"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 226], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 226], ["line_item_id", 1], ["created_at", "2017-11-24 00:40:21.129020"], ["updated_at", "2017-11-24 00:40:21.129020"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.131397"], ["updated_at", "2017-11-24 00:40:21.131397"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 227], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.139896"], ["updated_at", "2017-11-24 00:40:21.139896"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 228], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 228], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 228], ["line_item_id", 1], ["created_at", "2017-11-24 00:40:21.145349"], ["updated_at", "2017-11-24 00:40:21.145349"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 228], ["id", 225], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 225], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.155687"], ["updated_at", "2017-11-24 00:40:21.155687"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 229], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 229], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 229], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 229], ["line_item_id", 1], ["created_at", "2017-11-24 00:40:21.160378"], ["updated_at", "2017-11-24 00:40:21.160378"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 229], ["id", 226], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 226], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-24 00:40:21.163579"], ["id", 226]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.169646"], ["updated_at", "2017-11-24 00:40:21.169646"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 230], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 230], ["created_at", "2017-11-24 00:40:21.172697"], ["updated_at", "2017-11-24 00:40:21.172697"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 230], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 230], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 230], ["id", 227], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 227], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-24 00:40:21.178655"], ["id", 227]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 227], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:21.188620"], ["updated_at", "2017-11-24 00:40:21.188620"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 231], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 231], ["created_at", "2017-11-24 00:40:21.191843"], ["updated_at", "2017-11-24 00:40:21.191843"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:40:27.159623"], ["updated_at", "2017-11-24 00:40:27.159623"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 232], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 232], ["created_at", "2017-11-24 00:40:27.172820"], ["updated_at", "2017-11-24 00:40:27.172820"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:41:31.599715"], ["updated_at", "2017-11-24 00:41:31.599715"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 233], ["LIMIT", 1]]
  [1m[36mPayment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 233], ["created_at", "2017-11-24 00:41:31.610989"], ["updated_at", "2017-11-24 00:41:31.610989"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:41:40.269235"], ["updated_at", "2017-11-24 00:41:40.269235"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 234], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 234], ["created_at", "2017-11-24 00:41:40.281646"], ["updated_at", "2017-11-24 00:41:40.281646"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 234], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" IS NULL AND "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" IS NULL AND "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 0], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 234], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" IS NULL AND "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" IS NULL AND "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:48:41.537032"], ["updated_at", "2017-11-24 00:48:41.537032"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 235], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 235], ["created_at", "2017-11-24 00:48:41.549198"], ["updated_at", "2017-11-24 00:48:41.549198"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 235], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" IS NULL AND "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" IS NULL AND "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 0], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPayment Load (0.5ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 235], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" IS NULL AND "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" IS NULL AND "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 0], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 0], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (15.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (17.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'payment_race_test_test'[0m
  [1m[35m (258.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."services", "public"."payments", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:49:42.946288"], ["updated_at", "2017-11-24 00:49:42.946288"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:49:42.965529"], ["updated_at", "2017-11-24 00:49:42.965529"]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.4ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 1], ["line_item_id", 0], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 0], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 0], ["updated_at", "2017-11-24 00:49:43.020339"], ["id", 1]]
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (1.1ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:49:43.073610"], ["updated_at", "2017-11-24 00:49:43.073610"]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 2], ["line_item_id", 2], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 2], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 2], ["updated_at", "2017-11-24 00:49:43.083375"], ["id", 2]]
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (51.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'payment_race_test_test'[0m
  [1m[35m (262.2ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:51:04.873553"], ["updated_at", "2017-11-24 00:51:04.873553"]]
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:51:04.892940"], ["updated_at", "2017-11-24 00:51:04.892940"]]
  [1m[35m (13.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (49.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.0ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'payment_race_test_test'[0m
  [1m[35m (262.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:51:15.909617"], ["updated_at", "2017-11-24 00:51:15.909617"]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:51:15.929912"], ["updated_at", "2017-11-24 00:51:15.929912"]]
  [1m[35m (13.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 1], ["line_item_id", 0], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 0], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 0], ["updated_at", "2017-11-24 00:51:15.977373"], ["id", 1]]
  [1m[35m (10.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.5ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:51:16.027232"], ["updated_at", "2017-11-24 00:51:16.027232"]]
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 2], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 1], ["updated_at", "2017-11-24 00:51:16.036858"], ["id", 2]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (41.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'payment_race_test_test'[0m
  [1m[35m (262.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:53:22.286502"], ["updated_at", "2017-11-24 00:53:22.286502"]]
  [1m[35m (54.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:53:22.348604"], ["updated_at", "2017-11-24 00:53:22.348604"]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.5ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 1], ["updated_at", "2017-11-24 00:53:22.391720"], ["id", 1]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:53:22.430825"], ["updated_at", "2017-11-24 00:53:22.430825"]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 2], ["line_item_id", 0], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 0], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 0], ["updated_at", "2017-11-24 00:53:22.444888"], ["id", 2]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (50.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.0ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'payment_race_test_test'[0m
  [1m[35m (251.8ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:54:20.471361"], ["updated_at", "2017-11-24 00:54:20.471361"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:54:20.488420"], ["updated_at", "2017-11-24 00:54:20.488420"]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.5ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 1], ["line_item_id", 0], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 0], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 0], ["updated_at", "2017-11-24 00:54:20.519821"], ["id", 1]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:54:20.548868"], ["updated_at", "2017-11-24 00:54:20.548868"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 2], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 1], ["updated_at", "2017-11-24 00:54:20.562104"], ["id", 2]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (22.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.0ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'payment_race_test_test'[0m
  [1m[35m (262.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:58:48.299773"], ["updated_at", "2017-11-24 00:58:48.299773"]]
  [1m[35m (74.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:58:48.383655"], ["updated_at", "2017-11-24 00:58:48.383655"]]
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.4ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 1], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-24 00:58:48.420681"], ["id", 1]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.5ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:58:48.456387"], ["updated_at", "2017-11-24 00:58:48.456387"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 2], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (68.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'payment_race_test_test'[0m
  [1m[35m (224.6ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:51.374225"], ["updated_at", "2017-11-24 00:59:51.374225"]]
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-24 00:59:51.394103"], ["updated_at", "2017-11-24 00:59:51.394103"]]
  [1m[35m (13.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-24 00:59:51.411315"], ["updated_at", "2017-11-24 00:59:51.411315"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (255.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:51.700911"], ["updated_at", "2017-11-24 00:59:51.700911"]]
  [1m[35m (28.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-24 00:59:51.733740"], ["updated_at", "2017-11-24 00:59:51.733740"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:51.742626"], ["updated_at", "2017-11-24 00:59:51.742626"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 2], ["line_item_id", 1], ["created_at", "2017-11-24 00:59:51.753509"], ["updated_at", "2017-11-24 00:59:51.753509"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (255.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:52.035182"], ["updated_at", "2017-11-24 00:59:52.035182"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-24 00:59:52.054882"], ["updated_at", "2017-11-24 00:59:52.054882"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:52.063751"], ["updated_at", "2017-11-24 00:59:52.063751"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 2], ["created_at", "2017-11-24 00:59:52.074473"], ["updated_at", "2017-11-24 00:59:52.074473"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (266.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:52.376214"], ["updated_at", "2017-11-24 00:59:52.376214"]]
  [1m[35m (28.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-24 00:59:52.409049"], ["updated_at", "2017-11-24 00:59:52.409049"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:59:52.418126"], ["updated_at", "2017-11-24 00:59:52.418126"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (255.2ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:52.708248"], ["updated_at", "2017-11-24 00:59:52.708248"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-24 00:59:52.719084"], ["updated_at", "2017-11-24 00:59:52.719084"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mService Load (0.4ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (233.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:52.996481"], ["updated_at", "2017-11-24 00:59:52.996481"]]
  [1m[35m (27.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-24 00:59:53.029161"], ["updated_at", "2017-11-24 00:59:53.029161"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:53.038205"], ["updated_at", "2017-11-24 00:59:53.038205"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 2], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (288.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:53.363193"], ["updated_at", "2017-11-24 00:59:53.363193"]]
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-24 00:59:53.373848"], ["updated_at", "2017-11-24 00:59:53.373848"]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.2ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (255.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:53.660399"], ["updated_at", "2017-11-24 00:59:53.660399"]]
  [1m[35m (28.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.5ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" = $1 AND "payments"."service_id" = $2 LIMIT $3[0m  [["line_item_id", 1], ["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" = $2 LIMIT $3[0m  [["service_id", 1], ["line_item_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 LIMIT $2[0m  [["line_item_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "line_item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["service_id", 1], ["line_item_id", 1], ["created_at", "2017-11-24 00:59:53.694548"], ["updated_at", "2017-11-24 00:59:53.694548"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 1], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-24 00:59:53.703977"], ["id", 1]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.3ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (255.2ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:53.992597"], ["updated_at", "2017-11-24 00:59:53.992597"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:59:54.003197"], ["updated_at", "2017-11-24 00:59:54.003197"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.4ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 1], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-24 00:59:54.015710"], ["id", 1]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.4ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "payments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "services" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (188.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."payments", "public"."services", "public"."ar_internal_metadata" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "payments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "services" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "services" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2017-11-24 00:59:54.236381"], ["updated_at", "2017-11-24 00:59:54.236381"]]
  [1m[35m (28.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:59:54.268927"], ["updated_at", "2017-11-24 00:59:54.268927"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.4ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.2ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 1], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "payments" SET "line_item_id" = $1, "updated_at" = $2 WHERE "payments"."id" = $3[0m  [["line_item_id", 100500], ["updated_at", "2017-11-24 00:59:54.298608"], ["id", 1]]
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPayment Load (0.4ms)[0m  [1m[34mSELECT  "payments".* FROM "payments" WHERE "payments"."line_item_id" IS NULL AND "payments"."service_id" = $1 LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mService Load (0.3ms)[0m  [1m[34mSELECT  "services".* FROM "services" WHERE "services"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND "payments"."line_item_id" IS NULL LIMIT $2[0m  [["service_id", 1], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("service_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["service_id", 1], ["created_at", "2017-11-24 00:59:54.331009"], ["updated_at", "2017-11-24 00:59:54.331009"]]
  [1m[35m (10.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPayment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."service_id" = $1 AND ("payments"."id" != $2) AND "payments"."line_item_id" = $3 LIMIT $4[0m  [["service_id", 1], ["id", 2], ["line_item_id", 100500], ["LIMIT", 1]]
  [1m[36mPayment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payments" WHERE "payments"."line_item_id" = $1 AND ("payments"."id" != $2) LIMIT $3[0m  [["line_item_id", 100500], ["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "payments"[0m
